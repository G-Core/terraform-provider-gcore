---
page_title: "gcore_servergroup Resource - terraform-provider-gcore"
subcategory: ""
description: |-
  Represent server group resource
---

# gcore_servergroup (Resource)

Represent server group resource

## Example Usage


### Prerequisite

```terraform
provider gcore {
  permanent_api_token = "251$d3361.............1b35f26d8"
}

data "gcore_project" "project" {
  name = "Default"
}

data "gcore_region" "region" {
  name = "Luxembourg-2"
}
```

### Creating basic server group

```terraform
resource "gcore_servergroup" "servergroup" {
  name       = "my-servergroup"
  policy     = "affinity"
  project_id = data.gcore_project.project.id
  region_id  = data.gcore_region.region.id
}
```

### Creating server group with two instances

```terraform
data "gcore_image" "ubuntu" {
  name       = "ubuntu-22.04-x64"
  region_id  = data.gcore_region.region.id
  project_id = data.gcore_project.project.id
}

resource "gcore_volume" "boot_volume" {
  name       = "my-boot-volume"
  type_name  = "ssd_hiiops"
  size       = 5
  image_id   = data.gcore_image.ubuntu.id
  project_id = data.gcore_project.project.id
  region_id  = data.gcore_region.region.id
}

resource "gcore_volume" "boot_volume2" {
  name       = "my-boot-volume2"
  type_name  = "ssd_hiiops"
  size       = 5
  image_id   = data.gcore_image.ubuntu.id
  project_id = data.gcore_project.project.id
  region_id  = data.gcore_region.region.id
}

resource "gcore_instancev2" "instance" {
  flavor_id     = "g1-standard-2-4"
  name          = "my-instance"

  volume {
    volume_id  = gcore_volume.boot_volume.id
    boot_index = 0
  }

  interface {
    type = "external"
    name = "my-external-interface"
  }

  project_id = data.gcore_project.project.id
  region_id  = data.gcore_region.region.id
}

resource "gcore_instancev2" "instance2" {
  flavor_id     = "g1-standard-2-4"
  name          = "my-instance2"

  volume {
    volume_id  = gcore_volume.boot_volume2.id
    boot_index = 0
  }

  interface {
    type = "external"
    name = "my-external-interface"
  }

  project_id = data.gcore_project.project.id
  region_id  = data.gcore_region.region.id
}

resource "gcore_servergroup" "servergroup" {
  name       = "default"
  policy     = "affinity"
  project_id = data.gcore_project.project.id
  region_id  = data.gcore_region.region.id
  instance {
      instance_id = gcore_instancev2.instance.id
  }

  instance {
      instance_id = gcore_instancev2.instance2.id
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Displayed server group name
- `policy` (String) Server group policy. Available value is 'affinity' 'anti-affinity' 'soft-anti-affinity'. 

**Affinity Rule**:

Improves performance by grouping related instances on the same physical server to enhance communication,
resource sharing, and faster interaction.

**Soft Anti-affinity Rule**:

Attempts to place instances belonging to the same server group on different hosts. If this is not
possible, instances will be scheduled on the maximum number of different hosts available.

**Anti-affinity Rule**:

Strictly isolates instances across different physical servers, minimizing simultaneous failures for
critical applications. This rule is recommended for enhanced fault tolerance.

### Optional

- `instance` (Block Set) Instances in this server group (see [below for nested schema](#nestedblock--instance))
- `project_id` (Number)
- `project_name` (String)
- `region_id` (Number)
- `region_name` (String)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--instance"></a>
### Nested Schema for `instance`

Optional:

- `instance_id` (String)

Read-Only:

- `instance_name` (String)





## Import

Import is supported using the following syntax:

```shell
# import using <project_id>:<region_id>:<servergroup_id> format
terraform import gcore_servergroup.servergroup1 1:6:447d2959-8ae0-4ca0-8d47-9f050a3637d7
```


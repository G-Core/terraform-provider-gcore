---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gcore_waap_firewall_rule Resource - terraform-provider-gcore"
subcategory: ""
description: |-
  Represent WAAP Firewall Rule
---

# gcore_waap_firewall_rule (Resource)

Represent WAAP Firewall Rule

## Example Usage

```terraform
provider gcore {
  permanent_api_token = "768660$.............a43f91f"
}

resource "gcore_cdn_resource" "example" {
  cname  = "api.example.com"
  origin = "origin.example.com"
  options {
    waap { value = true }
  }
}

resource "gcore_waap_domain" "domain" {
  name   = gcore_cdn_resource.cdn_resource.cname
  status = "monitor"
}

resource "gcore_waap_firewall_rule" "firewall_rule" {
  domain_id   = gcore_waap_domain.domain.id
  name        = "Block IP Range"
  description = "Block range of IP addresses"
  enabled     = true

  action {
    block {
      status_code = 403
      action_duration = "12h"
    }
  }

  conditions {
    ip_range {
      lower_bound = "192.168.1.1"
      upper_bound = "192.168.1.7"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (Block List, Min: 1, Max: 1) The action that the rule takes when triggered. (see [below for nested schema](#nestedblock--action))
- `conditions` (Block List, Min: 1, Max: 1) The condition required for the WAAP engine to trigger the rule. (see [below for nested schema](#nestedblock--conditions))
- `domain_id` (Number) The WAAP domain ID for which the Firewall Rule is configured.
- `enabled` (Boolean) Whether the rule is enabled.
- `name` (String) Name of the firewall rule.

### Optional

- `description` (String) Description of the firewall rule.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--action"></a>
### Nested Schema for `action`

Optional:

- `allow` (Boolean) The WAAP allows the request.
- `block` (Block List, Max: 1) The WAAP blocks the request. (see [below for nested schema](#nestedblock--action--block))

<a id="nestedblock--action--block"></a>
### Nested Schema for `action.block`

Optional:

- `action_duration` (String) How long a rule's block action will apply to subsequent requests. Can be specified in seconds or by using a numeral followed by 's', 'm', 'h', or 'd' to represent time format (seconds, minutes, hours, or days). Example: 12h. Must match the pattern ^[0-9]*[smhd]?$
- `status_code` (Number) A custom HTTP status code that the WAAP returns if a rule blocks a request. Default is 403.



<a id="nestedblock--conditions"></a>
### Nested Schema for `conditions`

Optional:

- `ip` (Block List, Max: 1) IP address condition. This condition matches a single IP address. (see [below for nested schema](#nestedblock--conditions--ip))
- `ip_range` (Block List, Max: 1) IP range condition. This condition matches a range of IP addresses. (see [below for nested schema](#nestedblock--conditions--ip_range))

<a id="nestedblock--conditions--ip"></a>
### Nested Schema for `conditions.ip`

Required:

- `ip_address` (String) A single IPv4 or IPv6 address to match.

Optional:

- `negation` (Boolean) Whether or not to apply a boolean NOT operation to the rule's condition.


<a id="nestedblock--conditions--ip_range"></a>
### Nested Schema for `conditions.ip_range`

Required:

- `lower_bound` (String) The lower bound IPv4 or IPv6 address to match against.
- `upper_bound` (String) The upper bound IPv4 or IPv6 address to match against.

Optional:

- `negation` (Boolean) Whether or not to apply a boolean NOT operation to the rule's condition.

## Import

Import is supported using the following syntax:

```shell
# import using <domain_id>:<rule_id>
terraform import gcore_waap_firewall_rule.firewall_rule 136578:912200
```

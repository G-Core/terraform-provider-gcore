---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gcore_waap_firewall_rule Resource - terraform-provider-gcore"
subcategory: ""
description: |-
  Represent WAAP Firewall Rule
---

# gcore_waap_firewall_rule (Resource)

Represent WAAP Firewall Rule

## Example Usage

```terraform
provider gcore {
  permanent_api_token = "768660$.............a43f91f"
}

resource "gcore_cdn_resource" "example" {
  cname  = "api.example.com"
  origin = "origin.example.com"
  options {
    waap { value = true }
  }
}

resource "gcore_waap_domain" "domain" {
  name   = gcore_cdn_resource.cdn_resource.cname
  status = "monitor"
}

resource "gcore_waap_firewall_rule" "firewall_rule" {
  domain_id   = gcore_waap_domain.domain.id
  name        = "Block IP Range"
  description = "Block range of IP addresses"
  enabled     = true

  action {
    block {
      status_code = 403
      action_duration = "12h"
    }
  }

  conditions {
    ip_range {
      lower_bound = "192.168.1.1"
      upper_bound = "192.168.1.7"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (Block List, Min: 1, Max: 1) Action to take when the rule conditions are met (see [below for nested schema](#nestedblock--action))
- `conditions` (Block List, Min: 1, Max: 1) Conditions that trigger the rule (see [below for nested schema](#nestedblock--conditions))
- `domain_id` (Number) The ID of the domain
- `enabled` (Boolean) Whether the rule is enabled
- `name` (String) Name of the firewall rule

### Optional

- `description` (String) Description of the firewall rule

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--action"></a>
### Nested Schema for `action`

Optional:

- `allow` (Boolean) Allow the request
- `block` (Block List, Max: 1) Block the request (see [below for nested schema](#nestedblock--action--block))
- `captcha` (Boolean) Show captcha challenge
- `handshake` (Boolean) Perform handshake verification
- `monitor` (Boolean) Monitor the request without blocking
- `tag` (Block List, Max: 1) Add tags to the request (see [below for nested schema](#nestedblock--action--tag))

<a id="nestedblock--action--block"></a>
### Nested Schema for `action.block`

Optional:

- `action_duration` (String) Duration for which the block is effective (e.g. 12h)
- `status_code` (Number) HTTP status code to return for blocked requests


<a id="nestedblock--action--tag"></a>
### Nested Schema for `action.tag`

Required:

- `tags` (List of String) List of tags to apply



<a id="nestedblock--conditions"></a>
### Nested Schema for `conditions`

Optional:

- `ip` (Block List, Max: 1) IP address condition (see [below for nested schema](#nestedblock--conditions--ip))
- `ip_range` (Block List, Max: 1) IP range condition (see [below for nested schema](#nestedblock--conditions--ip_range))

<a id="nestedblock--conditions--ip"></a>
### Nested Schema for `conditions.ip`

Required:

- `ip_address` (String) IP address to match

Optional:

- `negation` (Boolean) Whether to negate the condition


<a id="nestedblock--conditions--ip_range"></a>
### Nested Schema for `conditions.ip_range`

Required:

- `lower_bound` (String) Lower bound IP address of the range
- `upper_bound` (String) Upper bound IP address of the range

Optional:

- `negation` (Boolean) Whether to negate the condition

## Import

Import is supported using the following syntax:

```shell
# import using <domain_id>:<rule_id>
terraform import gcore_waap_firewall_rule.firewall_rule 136578:912200
```

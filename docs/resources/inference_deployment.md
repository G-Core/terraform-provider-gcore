---
page_title: "gcore_inference_deployment Resource - terraform-provider-gcore"
subcategory: ""
description: |-
  Represent inference deployment
---

# gcore_inference_deployment (Resource)

Represent inference deployment

## Example Usage

##### Prerequisite

```terraform
provider gcore {
  permanent_api_token = "251$d3361.............1b35f26d8"
}

data "gcore_project" "project" {
  name = "Default"
}

data "gcore_region" "region" {
  name = "Luxembourg-2"
}
```

### Basic example

#### Creating inference deployment

```terraform
resource "gcore_inference_deployment" "inf" {
  project_id = data.gcore_project.project.id
  name = "my-inference-deployment"
  image = "nginx:latest"
  listening_port = 80
  flavor_name = "inference-1vcpu-1gib"
  timeout = 60
  containers {
    region_id  = data.gcore_region.region.id
    cooldown_period = 60
    scale_min = 2
    scale_max = 2
    triggers_cpu_threshold = 80
  }
  liveness_probe {
    enabled = true
    failure_threshold = 3
    initial_delay_seconds = 10
    period_seconds = 10
    timeout_seconds = 1
    success_threshold = 1
    http_get_port = 80
    http_get_headers = {
      User-Agent = "my user agent"
    }
    http_get_host = "localhost"
    http_get_path = "/"
    http_get_schema = "HTTPS"
  }

  readiness_probe {
    enabled = false
  }

  startup_probe {
    enabled = false
  }
}
```

#### Creating inference deployment with sqs trigger

```terraform
resource "gcore_inference_secret" "aws" {
  project_id = data.gcore_project.project.id
  name = "my-aws-iam-secret"
  data_aws_access_key_id = "my-aws-access-key-id"
  data_aws_secret_access_key = "my-aws-access-key"
}

resource "gcore_inference_deployment" "inf" {
  project_id = data.gcore_project.project.id
  name = "my-inference-deployment"
  image = "nginx:latest"
  listening_port = 80
  flavor_name = "inference-1vcpu-1gib"
  timeout = 60
  containers {
    region_id  = data.gcore_region.region.id
    cooldown_period = 60
    polling_interval = 60
    scale_min = 0
    scale_max = 2
    triggers_cpu_threshold = 80

    triggers_sqs_secret_name = gcore_inference_secret.aws.name
    triggers_sqs_aws_region = "us-west-2"
    triggers_sqs_queue_url = "https://sqs.us-west-2.amazonaws.com/1234567890/my-queue"
    triggers_sqs_queue_length = 5
    triggers_sqs_activation_queue_length = 2
  }

  liveness_probe {
    enabled = false
  }

  readiness_probe {
    enabled = false
  }

  startup_probe {
    enabled = false
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `containers` (Block List, Min: 1) (see [below for nested schema](#nestedblock--containers))
- `flavor_name` (String)
- `image` (String)
- `listening_port` (Number)
- `name` (String)
- `timeout` (Number)

### Optional

- `auth_enabled` (Boolean)
- `command` (String)
- `credentials_name` (String)
- `description` (String)
- `envs` (Map of String)
- `liveness_probe` (Block List, Max: 1) (see [below for nested schema](#nestedblock--liveness_probe))
- `logging` (Block List, Max: 1) (see [below for nested schema](#nestedblock--logging))
- `project_id` (Number)
- `project_name` (String)
- `readiness_probe` (Block List, Max: 1) (see [below for nested schema](#nestedblock--readiness_probe))
- `startup_probe` (Block List, Max: 1) (see [below for nested schema](#nestedblock--startup_probe))

### Read-Only

- `address` (String)
- `created_at` (String) Datetime when the inference deployment was created. The format is 2025-12-28T19:14:44.180394
- `id` (String) The ID of this resource.
- `status` (String)

<a id="nestedblock--containers"></a>
### Nested Schema for `containers`

Required:

- `cooldown_period` (Number) Cooldown period between scaling actions in seconds
- `region_id` (Number) Region id for the container
- `scale_max` (Number) Maximum scale for the container
- `scale_min` (Number) Minimum scale for the container

Optional:

- `polling_interval` (Number) Polling interval for scaling triggers in seconds
- `triggers_cpu_threshold` (Number) CPU trigger threshold configuration
- `triggers_gpu_memory_threshold` (Number) GPU memory trigger threshold configuration. Calculated by DCGM_FI_DEV_MEM_COPY_UTIL metric
- `triggers_gpu_utilization_threshold` (Number) GPU utilization trigger threshold configuration. Calculated by DCGM_FI_DEV_GPU_UTIL metric
- `triggers_http_rate` (Number) Request count per 'window' seconds for the http trigger. Required if you use http trigger
- `triggers_http_window` (Number) Time window for rate calculation in seconds. Required if you use http trigger
- `triggers_memory_threshold` (Number) Memory trigger threshold configuration
- `triggers_sqs_activation_queue_length` (Number) Number of messages for activation
- `triggers_sqs_aws_endpoint` (String) Custom AWS endpoint, left empty to use default aws endpoint
- `triggers_sqs_aws_region` (String) AWS region. Required if you use SQS trigger
- `triggers_sqs_queue_length` (Number) Number of messages for one replica
- `triggers_sqs_queue_url` (String) URL of the SQS queue. Required if you use SQS trigger
- `triggers_sqs_scale_on_delayed` (Boolean) Scale on delayed messages
- `triggers_sqs_scale_on_flight` (Boolean) Scale on in-flight messages
- `triggers_sqs_secret_name` (String) Name of the secret with AWS credentials. Required if you use SQS trigger

Read-Only:

- `ready_containers` (Number) Status of the containers deployment. Number of ready instances
- `total_containers` (Number) Status of the containers deployment. Total number of instances


<a id="nestedblock--liveness_probe"></a>
### Nested Schema for `liveness_probe`

Required:

- `enabled` (Boolean)

Optional:

- `exec_command` (String)
- `failure_threshold` (Number)
- `http_get_headers` (Map of String)
- `http_get_host` (String)
- `http_get_path` (String)
- `http_get_port` (Number)
- `http_get_schema` (String)
- `initial_delay_seconds` (Number)
- `period_seconds` (Number)
- `success_threshold` (Number)
- `tcp_socket_port` (Number)
- `timeout_seconds` (Number)


<a id="nestedblock--logging"></a>
### Nested Schema for `logging`

Optional:

- `destination_region_id` (Number)
- `enabled` (Boolean)
- `retention_policy_period` (Number)
- `topic_name` (String)


<a id="nestedblock--readiness_probe"></a>
### Nested Schema for `readiness_probe`

Required:

- `enabled` (Boolean)

Optional:

- `exec_command` (String)
- `failure_threshold` (Number)
- `http_get_headers` (Map of String)
- `http_get_host` (String)
- `http_get_path` (String)
- `http_get_port` (Number)
- `http_get_schema` (String)
- `initial_delay_seconds` (Number)
- `period_seconds` (Number)
- `success_threshold` (Number)
- `tcp_socket_port` (Number)
- `timeout_seconds` (Number)


<a id="nestedblock--startup_probe"></a>
### Nested Schema for `startup_probe`

Required:

- `enabled` (Boolean)

Optional:

- `exec_command` (String)
- `failure_threshold` (Number)
- `http_get_headers` (Map of String)
- `http_get_host` (String)
- `http_get_path` (String)
- `http_get_port` (Number)
- `http_get_schema` (String)
- `initial_delay_seconds` (Number)
- `period_seconds` (Number)
- `success_threshold` (Number)
- `tcp_socket_port` (Number)
- `timeout_seconds` (Number)





## Import

Import is supported using the following syntax:

```shell
# import using <project_id>:<inference_deployment_name> format
terraform import gcore_inference_deployment.inf1 1:my-first-inference
```


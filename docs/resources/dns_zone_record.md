---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gcore_dns_zone_record Resource - terraform-provider-gcore"
subcategory: ""
description: |-
  Represent DNS Zone Record resource. https://dns.gcore.com/zones
---

# gcore_dns_zone_record (Resource)

Represent DNS Zone Record resource. https://dns.gcore.com/zones

## Example Usage

```terraform
provider gcore {
  permanent_api_token = "251$d3361.............1b35f26d8"
}

//
// example0: managing zone and records by TF using variables
//
variable "example_domain0" {
  type    = string
  default = "examplezone.com"
}

resource "gcore_dns_zone" "examplezone0" {
  name = var.example_domain0
}

resource "gcore_dns_zone_record" "example_rrset0" {
  zone   = gcore_dns_zone.examplezone0.name
  domain = "${gcore_dns_zone.examplezone0.name}"
  type   = "A"
  ttl    = 100

  resource_record {
    content = "127.0.0.100"
  }
  resource_record {
    content = "127.0.0.200"
    // enabled = false
  }
}

//
// example1: managing zone outside of TF
//
resource "gcore_dns_zone_record" "subdomain_examplezone" {
  zone   = "examplezone.com"
  domain = "subdomain.examplezone.com"
  type   = "TXT"
  ttl    = 10

  filter {
    type   = "geodistance"
    limit  = 1
    strict = true
  }

  resource_record {
    content = "1234"
    enabled = true

    meta {
      latlong    = [52.367, 4.9041]
      asn        = [12345]
      ip         = ["1.1.1.1"]
      notes      = "notes"
      continents = ["asia"]
      countries  = ["russia"]
      default    = true
    }
  }
}

resource "gcore_dns_zone_record" "subdomain_examplezone_mx" {
  zone   = "examplezone.com"
  domain = "subdomain.examplezone.com"
  type   = "MX"
  ttl    = 120

  resource_record {
    content = "10 mail.my.com."
    enabled = true
  }
}

resource "gcore_dns_zone_record" "subdomain_examplezone_caa" {
  zone   = "examplezone.com"
  domain = "subdomain.examplezone.com"
  type   = "CAA"
  ttl    = 120

  resource_record {
    content = "0 issue \"company.org; account=12345\""
    enabled = true
  }
}

resource "gcore_dns_zone_record" "sobdomain_examplezone_https" {
  zone   = "examplezone.com"
  domain = "subdomain.examplezone.com"
  type   = "HTTPS"

  // alpn quoted, from output of dig
  resource_record {
   content = "1 . alpn=\"h3,h2\" port=1443 ipv4hint=10.0.0.1 ech=AEn+DQBFKwAgACABWIHUGj4u+PIggYXcR5JF0gYk3dCRioBW8uJq9H4mKAAIAAEAAQABAANAEnB1YmxpYy50bHMtZWNoLmRldgAA"
  }
}

//
// example2: healthchecks/failover check
//
resource "gcore_dns_zone_record" "examplezone_failover" {
  zone   = "examplezone.com"
  domain = "failover.examplezone.com"
  type   = "A"
  ttl    = 120

  filter {
    type   = "is_healthy"
    limit  = 0
    strict = true
  }

  resource_record {
    content = "127.0.0.1"
    enabled = true
  }

  // failover/healthchecks is on rrset meta, not resource record meta
  meta {
    healthchecks {
      frequency = 300
      host = "failover.examplezone.com"
      http_status_code = 200
      method = "GET"
      port = 80
      protocol = "HTTP"
      regexp = ""
      timeout = 10
      tls = false
      url = "/"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain` (String) A domain of DNS Zone Record resource.
- `resource_record` (Block Set, Min: 1) An array of contents with meta of DNS Zone Record resource. (see [below for nested schema](#nestedblock--resource_record))
- `type` (String) A type of DNS Zone Record resource.
- `zone` (String) A zone of DNS Zone Record resource.

### Optional

- `filter` (Block List) (see [below for nested schema](#nestedblock--filter))
- `meta` (Block Set) (see [below for nested schema](#nestedblock--meta))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `ttl` (Number) A ttl of DNS Zone Record resource.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--resource_record"></a>
### Nested Schema for `resource_record`

Required:

- `content` (String) A content of DNS Zone Record resource. (TXT: 'anyString', MX: '50 mail.company.io.', CAA: '0 issue "company.org; account=12345"')

Optional:

- `enabled` (Boolean) Manage of public appearing of DNS Zone Record resource.
- `meta` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--resource_record--meta))

<a id="nestedblock--resource_record--meta"></a>
### Nested Schema for `resource_record.meta`

Optional:

- `asn` (List of Number) An asn meta (eg. 12345) of DNS Zone Record resource.
- `backup` (Boolean) Set as backup record
- `continents` (List of String) Continents meta (eg. Asia) of DNS Zone Record resource.
- `countries` (List of String) Countries meta (eg. USA) of DNS Zone Record resource.
- `default` (Boolean) Fallback meta equals true marks records which are used as a default answer (when nothing was selected by specified meta fields).
- `failover` (Map of String) Computed UUID of failover healtcheck property
- `fallback` (Boolean) Set as fallback record
- `ip` (List of String) An ip meta (eg. 127.0.0.0) of DNS Zone Record resource.
- `latlong` (List of Number) A latlong meta (eg. 27.988056, 86.925278) of DNS Zone Record resource.
- `notes` (String) A notes meta (eg. Miami DC) of DNS Zone Record resource.
- `weight` (Number) A weight for this record



<a id="nestedblock--filter"></a>
### Nested Schema for `filter`

Required:

- `type` (String) A DNS Zone Record filter option that describe a name of filter.

Optional:

- `limit` (Number) A DNS Zone Record filter option that describe how many records will be percolated.
- `strict` (Boolean) A DNS Zone Record filter option that describe possibility to return answers if no records were percolated through filter.


<a id="nestedblock--meta"></a>
### Nested Schema for `meta`

Optional:

- `geodns_link` (String) Geodns link (domain, or cl-) of DNS Zone RRSet resource.
- `healthchecks` (Block Set) Failover meta (eg. {"frequency": 60,"host": "www.gcore.com","http_status_code": null,"method": "GET","port": 80,"protocol": "HTTP","regexp": "","timeout": 10,"tls": false,"url": "/"}). (see [below for nested schema](#nestedblock--meta--healthchecks))

<a id="nestedblock--meta--healthchecks"></a>
### Nested Schema for `meta.healthchecks`

Required:

- `frequency` (Number) Frequency in seconds (10-3600).
- `protocol` (String) Protocol, possible value: HTTP, TCP, UDP, ICMP.
- `timeout` (Number) Timeout in seconds (1-10).

Optional:

- `command` (String) Command to send if protocol=TCP/UDP, maximum length: 255.
- `host` (String) Request host/virtualhost to send if protocol=HTTP, must be empty for non-HTTP
- `http_status_code` (Number) Expected status code if protocol=HTTP, must be empty for non-HTTP.
- `method` (String) HTTP Method required if protocol=HTTP, must be empty for non-HTTP.
- `port` (Number) Port to check (1-65535).
- `regexp` (String) HTTP body or response payload to check if protocol<>ICMP, must be empty for ICMP.
- `tls` (Boolean) TLS/HTTPS enabled if protocol=HTTP, must be empty for non-HTTP.
- `url` (String) URL path to check required if protocol=HTTP, must be empty for non-HTTP.



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)

## Import

Import is supported using the following syntax:

```shell
# import using zone:domain:type format
terraform import gcore_dns_zone_record.example_rrset0 example.com:domain.example.com:A
```

---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gcore_iam_user Resource - terraform-provider-gcore"
subcategory: ""
description: |-
  Manage IAM user with complete lifecycle support
---

# gcore_iam_user (Resource)

Manage IAM user with complete lifecycle support

## Example Usage

```terraform
# G-Core IAM User Resource Example
#
# IMPORTANT: Due to API limitations, the user creation process works in two steps:
#
# 1. First "terraform apply":
#    - Creates user with basic fields: email, name, lang, user_role
#    - Ignores: phone, company, auth_types (not supported by invite API)
#    - User will be created but phone/company/auth_types will be empty/default
#
# 2. Second "terraform apply" (same config):
#    - Detects differences between desired config and actual state
#    - Updates phone, company, auth_types using PATCH API
#    - User will have all specified fields
#
# This behavior is intentional per G-Core API design.

provider "gcore" {
  permanent_api_token = "your-api-token-here"
  api_endpoint        = "https://api.gcore.com"
}

# Complete user example with all available fields
resource "gcore_iam_user" "example_user" {
  email     = "user@example.com"
  name      = "Example User"
  lang      = "en"
  phone     = "+1234567890"  # Set on second apply
  company   = "Example Corp" # Set on second apply
  client_id = 12345          # Replace with your client ID

  user_role {
    id   = 2
    name = "Users"
  }

  auth_types = ["password", "sso"] # Set on second apply

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `client_id` (Number) ID of account to invite user to.
- `email` (String) User's email address.
- `user_role` (Block List, Min: 1, Max: 1) User's group in the account. IAM supports 5 groups: Users, Administrators, Engineers, Purge and Prefetch only (API), Purge and Prefetch only (API+Web). (see [below for nested schema](#nestedblock--user_role))

### Optional

- `auth_types` (Set of String) List of auth types available for the account. Possible values: password, sso, github, google-oauth2.
- `company` (String) User's company.
- `lang` (String) User's language. Defines language of the control panel and email messages. Possible values: de, en, ru, zh, az.
- `name` (String) User's name.
- `phone` (String) User's phone.

### Read-Only

- `activated` (Boolean) Email confirmation: true – user confirmed the email; false – user did not confirm the email.
- `client` (Number) User's account ID.
- `client_and_roles` (List of Object) List of user's clients and roles. (see [below for nested schema](#nestedatt--client_and_roles))
- `current_email` (String) User's current email address.
- `deleted` (Boolean) Deletion flag. If true then user was deleted.
- `groups` (List of Object) User's groups in the current account. (see [below for nested schema](#nestedatt--groups))
- `id` (String) The ID of this resource.
- `is_active` (Boolean) User activity flag.
- `reseller` (Number) Services provider ID.
- `sso_auth` (Boolean) SSO authentication flag. If true then user can login via SAML SSO.
- `two_fa` (Boolean) Two-step verification: true – user enabled two-step verification; false – user disabled two-step verification.
- `user_id` (Number) User's ID.
- `user_type` (String) User's type.

<a id="nestedblock--user_role"></a>
### Nested Schema for `user_role`

Required:

- `id` (Number) Group ID.
- `name` (String) Group name.


<a id="nestedatt--client_and_roles"></a>
### Nested Schema for `client_and_roles`

Read-Only:

- `client_company_name` (String)
- `client_id` (Number)
- `user_id` (Number)
- `user_roles` (List of String)


<a id="nestedatt--groups"></a>
### Nested Schema for `groups`

Read-Only:

- `id` (Number)
- `name` (String)
